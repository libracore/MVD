{
 "align_labels_right": 0,
 "creation": "2021-12-06 08:31:40.427614",
 "css": ".print-format {\n margin-left: 0mm;\n margin-top: 0mm;\n margin-bottom: 0mm;\n margin-right: 0mm;\n}\n\n@font-face {\n    font-family: 'MetaOT';\n    font-style: normal;\n    font-weight: normal;\n    src: url('/assets/mvd/font/MetaOT-Normal.woff');\n}\n\n#logo_kopfzeile {\n    width: 40mm;\n    margin-left: 15mm;\n    padding-top: 14.5mm !important;\n}\n\n#anschrift {\n    max-width: 80mm;\n    width: 80mm;\n    margin-top: 26mm;\n    margin-left: 30mm;\n    float: left;\n    font-size: 10pt;\n    line-height: 13pt;\n    font-family: 'MetaOT';\n}\n\n#ansprechperson_1 {\n    float: left;\n    margin-top: 26mm;\n    margin-left: 10mm;\n    width: 25mm;\n    max-width: 25mm;\n    font-size: 8pt;\n    line-height: 10pt;\n    color: gray;\n    font-family: 'MetaOT';\n}\n\n#ansprechperson_2 {\n    float: left;\n    margin-top: 26mm;\n    margin-left: 5mm;\n    font-size: 8pt;\n    line-height: 10pt;\n    font-family: 'MetaOT';\n}\n\n#inhalt {\n    clear: left;\n    margin-top: 69.25mm;\n    margin-left: 30mm;\n    height: 77.75mm;\n    max-height: 77.75mm;\n    font-size: 10pt;\n    line-height: 13pt;\n    width: 174mm;\n    max-width: 174mm;\n    font-family: 'MetaOT';\n}\n#fusszeile_1 {\n    margin-left: 30mm;\n    height: 17mm;\n    max-height: 17mm;\n    float: left;\n    width: 61mm;\n    max-width: 61mm;\n    font-size: 8pt;\n    line-height: 10pt;\n    color: #0063ae;\n    font-weight: bold;\n    font-family: 'MetaOT';\n}\n\n#fusszeile_2 {\n    height: 17mm;\n    max-height: 17mm;\n    float: left;\n    width: 41mm;\n    max-width: 41mm;\n    font-size: 8pt;\n    line-height: 10pt;\n    color: #0063ae;\n    font-family: 'MetaOT';\n}\n#fusszeile_3 {\n    height: 17mm;\n    max-height: 17mm;\n    float: left;\n    font-size: 8pt;\n    line-height: 10pt;\n    color: #0063ae;\n    font-family: 'MetaOT';\n}\n\n#seite_2 {\n    margin-left: 30mm;\n    padding-top: 52.5mm;\n    width: 174mm;\n    max-width: 174mm;\n    font-family: 'MetaOT';\n}\n\n#platzhalter_hv {\n    margin-top: 26mm;\n    margin-left: 30mm;\n    height: 138.5mm;\n    max-height: 138.5mm;\n    padding-bottom: 18mm;\n}",
 "custom_format": 1,
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "<!-- load customer -->\n{% set customer = frappe.get_doc(\"Customer\", doc.customer) %}\n<!-- load contact -->\n{% set contact = frappe.get_doc(\"Contact\", doc.contact_person) %}\n<!-- load address -->\n{% set address = frappe.get_doc(\"Address\", doc.customer_address) %}\n{% if doc.mv_mitgliedschaft %}\n<!-- load mitgliedschaft -->\n{% set mitgliedschaft = frappe.get_doc(\"MV Mitgliedschaft\", doc.mv_mitgliedschaft) %}\n{% set sektion = frappe.get_doc(\"Sektion\", mitgliedschaft.sektion_id) %}\n{% endif %}\n<div id=\"logo_kopfzeile\"><img src=\"assets/mvd/img/MV_Logo_F.png\"></div>\n<div id=\"anschrift\">\n    {% if mitgliedschaft.kundentyp == 'Unternehmen' %}\n        {% if mitgliedschaft.firma %}{{ mitgliedschaft.firma }}<br>{% endif %}\n        {% if mitgliedschaft.zusatz_firma %}{{ mitgliedschaft.zusatz_firma }}<br>{% endif %}\n    {% endif %}\n    {{ mitgliedschaft.vorname_1 }} {{ mitgliedschaft.nachname_1 }}<br>\n    {% if mitgliedschaft.zusatz_adresse %}{{ mitgliedschaft.zusatz_adresse }}<br>{% endif %}\n    {% if mitgliedschaft.postfach %}\n        Postfach {% if mitgliedschaft.postfach_nummer and mitgliedschaft.postfach_nummer > 0 %}{{ mitgliedschaft.postfach_nummer }}{% endif %}<br>\n    {% else %}\n        {{ mitgliedschaft.strasse }} {{ mitgliedschaft.nummer or '' }}{{ mitgliedschaft.nummer_zu or '' }}<br>\n    {% endif %}\n    {{ mitgliedschaft.plz }} {{ mitgliedschaft.ort }}\n</div>\n<div id=\"ansprechperson_1\">\n    Ansprechperson<br>\n    E-Mail<br>\n    Direktwahl\n</div>\n<div id=\"ansprechperson_2\">\n    Ihr Name<br>\n    Ihre E-Mail<br>\n    Ihre Direktwahl\n</div>\n<div id=\"inhalt\">\n    {% if sektion %}{{ sektion.default_ort }}, {{ frappe.utils.get_datetime(doc.posting_date).strftime('%d.%m.%Y') }}<br><br>{% endif %}\n    {% if doc.titel_seite_1 %}\n        <b>{{ doc.titel_seite_1 }}</b><br><br>\n    {% endif %}\n    {% if not doc.check_anrede %}\n        {{ get_anredekonvention(doc.mv_mitgliedschaft) }}<br><br>\n    {% else %}\n        {{ doc.anrede }}<br><br>\n    {% endif %}\n    {% if doc.inhalt_seite_1 %}\n        {{ doc.inhalt_seite_1 }}\n    {% endif %}\n</div>\n<div id=\"fusszeile_1\">\n    {{ sektion.fz_links }}\n</div>\n<div id=\"fusszeile_2\">\n    {{ sektion.fz_mitte }}\n</div>\n<div id=\"fusszeile_3\">\n    {{ sektion.fz_rechts }}\n</div>\n\n<!-- QRR Section -->\n\n<!-- payer details -->\n{% if doc.customer_address %}\n    {% set pay_addr = frappe.get_doc(\"Address\", doc.customer_address) %}\n    {% if pay_addr %}\n        <!-- get values -->\n        {% if pay_addr.postfach %}\n            <!-- postfach -->\n            {% set pay_country = frappe.get_doc(\"Country\", pay_addr.country) %}\n            {% set pay_country_code = pay_country.code | upper %}\n            {% if pay_addr.postfach_nummer %}\n                {% set postfach_nummer = pay_addr.postfach_nummer %}\n            {% else %}\n                {% set postfach_nummer = ' ' %}\n            {% endif %}\n            {% set pay_address_line_detail = {'name': doc.customer, 'street': 'Postfach', 'number': postfach_nummer, 'pin': pay_addr.pincode, 'city': pay_addr.city, 'country': pay_country_code } %}\n        {% else %}\n            <!-- street -->\n            {% set pay_address_trimed = pay_addr.address_line1 | trim %}\n            {% set pay_address_array = pay_address_trimed.split(\" \") %}\n            {% set pay_address_line_item_count = pay_address_array | count %}\n            {% set pay_country = frappe.get_doc(\"Country\", pay_addr.country) %}\n            {% set pay_country_code = pay_country.code | upper %}\n            {% set pay_address_line_detail = {'name': doc.customer, 'street': '', 'number': '', 'pin': pay_addr.pincode, 'city': pay_addr.city, 'country': pay_country_code } %}\n            {% for i in range(0, (pay_address_line_item_count - 1)) %}\n                {% if pay_address_line_detail.update({'street': pay_address_line_detail.street + \" \" + pay_address_array[i] }) %}{% endif %}\n            {% endfor %}\n            {% if pay_address_line_detail.update({'number': pay_address_array[pay_address_line_item_count - 1]}) %}{% endif %}\n        {% endif %}\n        \n        <!-- set values -->\n        {% set payer_name = doc.customer_name %}\n        {% set payer_street = pay_address_line_detail.street %}\n        {% set payer_number = pay_address_line_detail.number %}\n        {% set payer_pincode = pay_address_line_detail.pin %}\n        {% set payer_town = pay_address_line_detail.city %}\n        {% set payer_country = pay_address_line_detail.country %}\n        \n        <!-- check street vs number -->\n        {% if not payer_street %}\n            {% if payer_number %}\n                {% set payer_street = payer_number %}\n                {% set payer_number = ' ' %}\n            {% endif %}\n        {% endif %}\n    {% endif %}\n{% else %}\n    {% set payer_name = False %}\n    {% set payer_street = False %}\n    {% set payer_number = False %}\n    {% set payer_pincode = False %}\n    {% set payer_town = False %}\n    {% set payer_country = False %}\n{% endif %}\n\n<!-- receiver details -->\n{% if doc.company_address %}\n    {% set cmp_addr = frappe.get_doc(\"Address\", doc.company_address) %}\n    {% if cmp_addr %}\n        <!-- get values -->\n        {% set address_array = cmp_addr.address_line1.split(\" \") %}\n        {% set address_line_item_count = address_array | count %}\n        {% set cmp_country = frappe.get_doc(\"Country\", cmp_addr.country) %}\n        {% set cmp_country_code = cmp_country.code | upper %}\n        {% set cmp_address_line_detail = {'name': doc.company, 'street': '', 'number': '', 'plz': cmp_addr.plz, 'city': cmp_addr.city, 'country': cmp_country_code } %}\n        {% for i in range(0, (address_line_item_count - 1)) %}\n            {% if cmp_address_line_detail.update({'street': cmp_address_line_detail.street + \" \" + address_array[i] }) %}{% endif %}\n        {% endfor %}\n        {% if cmp_address_line_detail.update({'number': address_array[address_line_item_count - 1]}) %}{% endif %}\n        \n        <!-- set values -->\n        {% set receiver_name = cmp_address_line_detail.name | replace(\"|\", \"I\") %}\n        {% set receiver_street = cmp_address_line_detail.street %}\n        {% set receiver_number = cmp_address_line_detail.number %}\n        {% set receiver_pincode = cmp_address_line_detail.plz %}\n        {% set receiver_town = cmp_address_line_detail.city %}\n        {% set receiver_country = cmp_address_line_detail.country %}\n    {% endif %}\n{% else %}\n    {% set receiver_name = False %}\n    {% set receiver_street = False %}\n    {% set receiver_number = False %}\n    {% set receiver_pincode = False %}\n    {% set receiver_town = False %}\n    {% set receiver_country = False %}\n{% endif %}\n\n<!-- qrr dict -->\n{% set qrr = {\n    'top_position': '191mm',\n    'iban': 'CH68 3000 0002 8878 4152 8',\n    'reference': doc.esr_reference,\n    'reference_type': 'QRR',\n    'currency': doc.currency,\n    'amount': \"{:,.2f}\".format(doc.outstanding_amount).replace(\",\", \"'\"),\n    'message': doc.name,\n    'additional_information': ' ',\n    'receiver_name': receiver_name,\n    'receiver_street': receiver_street,\n    'receiver_number': receiver_number,\n    'receiver_country': receiver_country,\n    'receiver_pincode': receiver_pincode,\n    'receiver_town': receiver_town,\n    'payer_name': payer_name,\n    'payer_street': payer_street,\n    'payer_number': payer_number,\n    'payer_country': payer_country,\n    'payer_pincode': payer_pincode,\n    'payer_town': payer_town\n} %}\n{% if doc.outstanding_amount > 0 %}\n    {{ frappe.render_template('templates/includes/mvd_qrr_invoice.html', {'qrr': qrr}) }}\n{% endif %}\n\n{% if doc.zeige_seite_2 %}\n    <div class=\"page-break\"></div>\n    <div id=\"seite_2\">\n        {% if doc.titel_seite_2 %}\n            <b>{{ doc.titel_seite_2 }}</b><br><br>\n        {% endif %}\n        {% if doc.inhalt_seite_2 %}\n            {{ doc.inhalt_seite_2 }}\n        {% endif %}\n    </div>\n{% endif %}\n\n{% if mitgliedschaft %}\n    {% if mitgliedschaft.inkl_hv %}\n        {% if not doc.zeige_seite_2 %}\n            <div class=\"page-break\"></div>\n            <p style=\"color: white;\">.</p>\n        {% endif %}\n        <div class=\"page-break\"></div>\n        <div id=\"logo_kopfzeile\"><img src=\"assets/mvd/img/MV_Logo_F.png\"></div>\n        <div id=\"platzhalter_hv\">\n            {% if doc.titel_haftpflichtversicherung %}\n                <b>{{ doc.titel_haftpflichtversicherung }}</b><br><br>\n            {% endif %}\n            {% if not doc.check_anrede %}\n                {{ get_anredekonvention(doc.mv_mitgliedschaft) }}<br><br>\n            {% else %}\n                {{ doc.anrede }}<br><br>\n            {% endif %}\n            {% if doc.inhalt_haftpflichtversicherung %}\n                {{ doc.inhalt_haftpflichtversicherung }}\n            {% endif %}\n        </div>\n        <!-- qrr dict -->\n        {% set qrr = {\n            'top_position': '382mm',\n            'iban': 'CH68 3000 0002 8878 4152 8',\n            'reference': doc.esr_reference,\n            'reference_type': 'QRR',\n            'currency': doc.currency,\n            'amount': '25.00',\n            'message': doc.name,\n            'additional_information': ' ',\n            'receiver_name': receiver_name,\n            'receiver_street': receiver_street,\n            'receiver_number': receiver_number,\n            'receiver_country': receiver_country,\n            'receiver_pincode': receiver_pincode,\n            'receiver_town': receiver_town,\n            'payer_name': payer_name,\n            'payer_street': payer_street,\n            'payer_number': payer_number,\n            'payer_country': payer_country,\n            'payer_pincode': payer_pincode,\n            'payer_town': payer_town\n        } %}\n        {% if doc.outstanding_amount > 0 %}\n            {{ frappe.render_template('templates/includes/mvd_qrr_invoice.html', {'qrr': qrr}) }}\n        {% endif %}\n    {% endif %}\n{% endif %}",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2021-12-07 08:22:48.842186",
 "modified_by": "Administrator",
 "module": "MVD",
 "name": "MV-Rechnung mit Zahlteil",
 "owner": "Administrator",
 "print_format_builder": 1,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}